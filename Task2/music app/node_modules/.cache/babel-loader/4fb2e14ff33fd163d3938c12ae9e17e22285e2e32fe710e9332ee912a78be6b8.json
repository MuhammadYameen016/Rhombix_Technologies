{"ast":null,"code":"import React,{useContext,useEffect}from\"react\";import{MusicContext}from\"../Context\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Card(_ref){let{element}=_ref;const musicContext=useContext(MusicContext);const likedMusic=musicContext.likedMusic;const setlikedMusic=musicContext.setLikedMusic;const pinnedMusic=musicContext.pinnedMusic;const setpinnedMusic=musicContext.setPinnedMusic;const handlePin=()=>{let pinnedMusic=localStorage.getItem(\"pinnedMusic\");pinnedMusic=JSON.parse(pinnedMusic);let updatedPinnedMusic=[];if(pinnedMusic.some(item=>item.id===element.id)){updatedPinnedMusic=pinnedMusic.filter(item=>item.id!==element.id);setpinnedMusic(updatedPinnedMusic);localStorage.setItem(\"pinnedMusic\",JSON.stringify(updatedPinnedMusic));}else{if(pinnedMusic.length>=4){}updatedPinnedMusic=pinnedMusic;updatedPinnedMusic.push(element);setpinnedMusic(updatedPinnedMusic);localStorage.setItem(\"pinnedMusic\",JSON.stringify(updatedPinnedMusic));}};const handleLike=()=>{let likedMusic=localStorage.getItem(\"likedMusic\");likedMusic=JSON.parse(likedMusic);let updatedLikedMusic=[];if(likedMusic.some(item=>item.id===element.id)){updatedLikedMusic=likedMusic.filter(item=>item.id!==element.id);setlikedMusic(updatedLikedMusic);localStorage.setItem(\"likedMusic\",JSON.stringify(updatedLikedMusic));}else{updatedLikedMusic=likedMusic;updatedLikedMusic.push(element);setlikedMusic(updatedLikedMusic);localStorage.setItem(\"likedMusic\",JSON.stringify(updatedLikedMusic));}};useEffect(()=>{const localLikedMusic=JSON.parse(localStorage.getItem(\"likedMusic\"));setlikedMusic(localLikedMusic);},[setlikedMusic]);return/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-3 col-md-6 py-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"ratio ratio-1x1 bg-secondary bg-opacity-25\",children:/*#__PURE__*/_jsx(\"img\",{src:element.album.images[0].url,className:\"card-img-top\",alt:\"...\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"card-title d-flex justify-content-between\",children:[element.name,/*#__PURE__*/_jsxs(\"div\",{className:\"add-options d-flex align-items-start\",children:[pinnedMusic.some(item=>item.id===element.id)?/*#__PURE__*/_jsx(\"button\",{onClick:handlePin,className:\"btn btn-outline-dark mx-1\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-pin-angle-fill\"})}):/*#__PURE__*/_jsx(\"button\",{onClick:handlePin,className:\"btn btn-outline-dark mx-1\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-pin-angle\"})}),likedMusic.some(item=>item.id===element.id)?/*#__PURE__*/_jsx(\"button\",{onClick:handleLike,className:\"btn btn-outline-dark\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-heart-fill text-danger\"})}):/*#__PURE__*/_jsx(\"button\",{onClick:handleLike,className:\"btn btn-outline-dark\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-heart\"})})]})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text\",children:[\"Artist: \",element.album.artists[0].name]}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text\",children:[\"Release date: \",element.album.release_date]}),/*#__PURE__*/_jsx(\"audio\",{src:element.preview_url,controls:true,className:\"w-100\"})]})]})},element.id);}export default Card;","map":{"version":3,"names":["React","useContext","useEffect","MusicContext","jsx","_jsx","jsxs","_jsxs","Card","_ref","element","musicContext","likedMusic","setlikedMusic","setLikedMusic","pinnedMusic","setpinnedMusic","setPinnedMusic","handlePin","localStorage","getItem","JSON","parse","updatedPinnedMusic","some","item","id","filter","setItem","stringify","length","push","handleLike","updatedLikedMusic","localLikedMusic","className","children","src","album","images","url","alt","name","onClick","artists","release_date","preview_url","controls"],"sources":["C:/Users/Admin/Desktop/v-music/src/components/Card.js"],"sourcesContent":["import React, { useContext, useEffect } from \"react\";\r\nimport { MusicContext } from \"../Context\";\r\n\r\nfunction Card({ element }) {\r\n  const musicContext = useContext(MusicContext);\r\n  const likedMusic = musicContext.likedMusic;\r\n  const setlikedMusic = musicContext.setLikedMusic;\r\n  const pinnedMusic = musicContext.pinnedMusic;\r\n  const setpinnedMusic = musicContext.setPinnedMusic;\r\n\r\n  const handlePin = () => {\r\n    let pinnedMusic = localStorage.getItem(\"pinnedMusic\");\r\n    pinnedMusic = JSON.parse(pinnedMusic);\r\n    let updatedPinnedMusic = [];\r\n    if (pinnedMusic.some((item) => item.id === element.id)) {\r\n      updatedPinnedMusic = pinnedMusic.filter((item) => item.id !== element.id);\r\n      setpinnedMusic(updatedPinnedMusic);\r\n      localStorage.setItem(\"pinnedMusic\", JSON.stringify(updatedPinnedMusic));\r\n    } else {\r\n      if (pinnedMusic.length >= 4) {\r\n      }\r\n      updatedPinnedMusic = pinnedMusic;\r\n      updatedPinnedMusic.push(element);\r\n      setpinnedMusic(updatedPinnedMusic);\r\n      localStorage.setItem(\"pinnedMusic\", JSON.stringify(updatedPinnedMusic));\r\n    }\r\n  };\r\n\r\n  const handleLike = () => {\r\n    let likedMusic = localStorage.getItem(\"likedMusic\");\r\n    likedMusic = JSON.parse(likedMusic);\r\n    let updatedLikedMusic = [];\r\n    if (likedMusic.some((item) => item.id === element.id)) {\r\n      updatedLikedMusic = likedMusic.filter((item) => item.id !== element.id);\r\n      setlikedMusic(updatedLikedMusic);\r\n      localStorage.setItem(\"likedMusic\", JSON.stringify(updatedLikedMusic));\r\n    } else {\r\n      updatedLikedMusic = likedMusic;\r\n      updatedLikedMusic.push(element);\r\n      setlikedMusic(updatedLikedMusic);\r\n      localStorage.setItem(\"likedMusic\", JSON.stringify(updatedLikedMusic));\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const localLikedMusic = JSON.parse(localStorage.getItem(\"likedMusic\"));\r\n    setlikedMusic(localLikedMusic);\r\n  }, [setlikedMusic]);\r\n\r\n  return (\r\n    <div key={element.id} className=\"col-lg-3 col-md-6 py-2\">\r\n      <div className=\"card\">\r\n        <div className=\"ratio ratio-1x1 bg-secondary bg-opacity-25\">\r\n          <img\r\n            src={element.album.images[0].url}\r\n            className=\"card-img-top\"\r\n            alt=\"...\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"card-body\">\r\n          <h5 className=\"card-title d-flex justify-content-between\">\r\n            {element.name}\r\n            <div className=\"add-options d-flex align-items-start\">\r\n              {pinnedMusic.some((item) => item.id === element.id) ? (\r\n                <button\r\n                  onClick={handlePin}\r\n                  className=\"btn btn-outline-dark mx-1\"\r\n                >\r\n                  <i className=\"bi bi-pin-angle-fill\"></i>\r\n                </button>\r\n              ) : (\r\n                <button\r\n                  onClick={handlePin}\r\n                  className=\"btn btn-outline-dark mx-1\"\r\n                >\r\n                  <i className=\"bi bi-pin-angle\"></i>\r\n                </button>\r\n              )}\r\n              {likedMusic.some((item) => item.id === element.id) ? (\r\n                <button onClick={handleLike} className=\"btn btn-outline-dark\">\r\n                  <i className=\"bi bi-heart-fill text-danger\"></i>\r\n                </button>\r\n              ) : (\r\n                <button onClick={handleLike} className=\"btn btn-outline-dark\">\r\n                  <i className=\"bi bi-heart\"></i>\r\n                </button>\r\n              )}\r\n              {/* \r\n              <div className=\"dropdown mx-1\">\r\n                <button\r\n                  className=\"btn btn-secondary dropdown-toggle\"\r\n                  type=\"button\"\r\n                  data-bs-toggle=\"dropdown\"\r\n                  aria-expanded=\"false\"\r\n                >\r\n                  <i className=\"bi bi-list\"></i>\r\n                </button>\r\n                <ul className=\"dropdown-menu\">\r\n                  <li>\r\n                    {pinnedMusic.some((item) => item.id === element.id) ? (\r\n                      <button\r\n                        onClick={handlePin}\r\n                        className=\"dropdown-item text-secondary\"\r\n                      >\r\n                        Unpin\r\n                      </button>\r\n                    ) : (\r\n                      <button\r\n                        onClick={handlePin}\r\n                        className=\"dropdown-item text-secondary\"\r\n                      >\r\n                        Pin\r\n                      </button>\r\n                    )}\r\n                  </li>\r\n\r\n                  <li>\r\n                    <button className=\"dropdown-item text-secondary\">\r\n                      Your Playlist\r\n                    </button>\r\n                  </li>\r\n                </ul>\r\n              </div> */}\r\n            </div>\r\n          </h5>\r\n          <p className=\"card-text\">Artist: {element.album.artists[0].name}</p>\r\n          <p className=\"card-text\">\r\n            Release date: {element.album.release_date}\r\n          </p>\r\n          <audio src={element.preview_url} controls className=\"w-100\"></audio>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,CAAEC,SAAS,KAAQ,OAAO,CACpD,OAASC,YAAY,KAAQ,YAAY,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE1C,QAAS,CAAAC,IAAIA,CAAAC,IAAA,CAAc,IAAb,CAAEC,OAAQ,CAAC,CAAAD,IAAA,CACvB,KAAM,CAAAE,YAAY,CAAGV,UAAU,CAACE,YAAY,CAAC,CAC7C,KAAM,CAAAS,UAAU,CAAGD,YAAY,CAACC,UAAU,CAC1C,KAAM,CAAAC,aAAa,CAAGF,YAAY,CAACG,aAAa,CAChD,KAAM,CAAAC,WAAW,CAAGJ,YAAY,CAACI,WAAW,CAC5C,KAAM,CAAAC,cAAc,CAAGL,YAAY,CAACM,cAAc,CAElD,KAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CACtB,GAAI,CAAAH,WAAW,CAAGI,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC,CACrDL,WAAW,CAAGM,IAAI,CAACC,KAAK,CAACP,WAAW,CAAC,CACrC,GAAI,CAAAQ,kBAAkB,CAAG,EAAE,CAC3B,GAAIR,WAAW,CAACS,IAAI,CAAEC,IAAI,EAAKA,IAAI,CAACC,EAAE,GAAKhB,OAAO,CAACgB,EAAE,CAAC,CAAE,CACtDH,kBAAkB,CAAGR,WAAW,CAACY,MAAM,CAAEF,IAAI,EAAKA,IAAI,CAACC,EAAE,GAAKhB,OAAO,CAACgB,EAAE,CAAC,CACzEV,cAAc,CAACO,kBAAkB,CAAC,CAClCJ,YAAY,CAACS,OAAO,CAAC,aAAa,CAAEP,IAAI,CAACQ,SAAS,CAACN,kBAAkB,CAAC,CAAC,CACzE,CAAC,IAAM,CACL,GAAIR,WAAW,CAACe,MAAM,EAAI,CAAC,CAAE,CAC7B,CACAP,kBAAkB,CAAGR,WAAW,CAChCQ,kBAAkB,CAACQ,IAAI,CAACrB,OAAO,CAAC,CAChCM,cAAc,CAACO,kBAAkB,CAAC,CAClCJ,YAAY,CAACS,OAAO,CAAC,aAAa,CAAEP,IAAI,CAACQ,SAAS,CAACN,kBAAkB,CAAC,CAAC,CACzE,CACF,CAAC,CAED,KAAM,CAAAS,UAAU,CAAGA,CAAA,GAAM,CACvB,GAAI,CAAApB,UAAU,CAAGO,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC,CACnDR,UAAU,CAAGS,IAAI,CAACC,KAAK,CAACV,UAAU,CAAC,CACnC,GAAI,CAAAqB,iBAAiB,CAAG,EAAE,CAC1B,GAAIrB,UAAU,CAACY,IAAI,CAAEC,IAAI,EAAKA,IAAI,CAACC,EAAE,GAAKhB,OAAO,CAACgB,EAAE,CAAC,CAAE,CACrDO,iBAAiB,CAAGrB,UAAU,CAACe,MAAM,CAAEF,IAAI,EAAKA,IAAI,CAACC,EAAE,GAAKhB,OAAO,CAACgB,EAAE,CAAC,CACvEb,aAAa,CAACoB,iBAAiB,CAAC,CAChCd,YAAY,CAACS,OAAO,CAAC,YAAY,CAAEP,IAAI,CAACQ,SAAS,CAACI,iBAAiB,CAAC,CAAC,CACvE,CAAC,IAAM,CACLA,iBAAiB,CAAGrB,UAAU,CAC9BqB,iBAAiB,CAACF,IAAI,CAACrB,OAAO,CAAC,CAC/BG,aAAa,CAACoB,iBAAiB,CAAC,CAChCd,YAAY,CAACS,OAAO,CAAC,YAAY,CAAEP,IAAI,CAACQ,SAAS,CAACI,iBAAiB,CAAC,CAAC,CACvE,CACF,CAAC,CAED/B,SAAS,CAAC,IAAM,CACd,KAAM,CAAAgC,eAAe,CAAGb,IAAI,CAACC,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC,CAAC,CACtEP,aAAa,CAACqB,eAAe,CAAC,CAChC,CAAC,CAAE,CAACrB,aAAa,CAAC,CAAC,CAEnB,mBACER,IAAA,QAAsB8B,SAAS,CAAC,wBAAwB,CAAAC,QAAA,cACtD7B,KAAA,QAAK4B,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnB/B,IAAA,QAAK8B,SAAS,CAAC,4CAA4C,CAAAC,QAAA,cACzD/B,IAAA,QACEgC,GAAG,CAAE3B,OAAO,CAAC4B,KAAK,CAACC,MAAM,CAAC,CAAC,CAAC,CAACC,GAAI,CACjCL,SAAS,CAAC,cAAc,CACxBM,GAAG,CAAC,KAAK,CACV,CAAC,CACC,CAAC,cAENlC,KAAA,QAAK4B,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB7B,KAAA,OAAI4B,SAAS,CAAC,2CAA2C,CAAAC,QAAA,EACtD1B,OAAO,CAACgC,IAAI,cACbnC,KAAA,QAAK4B,SAAS,CAAC,sCAAsC,CAAAC,QAAA,EAClDrB,WAAW,CAACS,IAAI,CAAEC,IAAI,EAAKA,IAAI,CAACC,EAAE,GAAKhB,OAAO,CAACgB,EAAE,CAAC,cACjDrB,IAAA,WACEsC,OAAO,CAAEzB,SAAU,CACnBiB,SAAS,CAAC,2BAA2B,CAAAC,QAAA,cAErC/B,IAAA,MAAG8B,SAAS,CAAC,sBAAsB,CAAI,CAAC,CAClC,CAAC,cAET9B,IAAA,WACEsC,OAAO,CAAEzB,SAAU,CACnBiB,SAAS,CAAC,2BAA2B,CAAAC,QAAA,cAErC/B,IAAA,MAAG8B,SAAS,CAAC,iBAAiB,CAAI,CAAC,CAC7B,CACT,CACAvB,UAAU,CAACY,IAAI,CAAEC,IAAI,EAAKA,IAAI,CAACC,EAAE,GAAKhB,OAAO,CAACgB,EAAE,CAAC,cAChDrB,IAAA,WAAQsC,OAAO,CAAEX,UAAW,CAACG,SAAS,CAAC,sBAAsB,CAAAC,QAAA,cAC3D/B,IAAA,MAAG8B,SAAS,CAAC,8BAA8B,CAAI,CAAC,CAC1C,CAAC,cAET9B,IAAA,WAAQsC,OAAO,CAAEX,UAAW,CAACG,SAAS,CAAC,sBAAsB,CAAAC,QAAA,cAC3D/B,IAAA,MAAG8B,SAAS,CAAC,aAAa,CAAI,CAAC,CACzB,CACT,EAqCE,CAAC,EACJ,CAAC,cACL5B,KAAA,MAAG4B,SAAS,CAAC,WAAW,CAAAC,QAAA,EAAC,UAAQ,CAAC1B,OAAO,CAAC4B,KAAK,CAACM,OAAO,CAAC,CAAC,CAAC,CAACF,IAAI,EAAI,CAAC,cACpEnC,KAAA,MAAG4B,SAAS,CAAC,WAAW,CAAAC,QAAA,EAAC,gBACT,CAAC1B,OAAO,CAAC4B,KAAK,CAACO,YAAY,EACxC,CAAC,cACJxC,IAAA,UAAOgC,GAAG,CAAE3B,OAAO,CAACoC,WAAY,CAACC,QAAQ,MAACZ,SAAS,CAAC,OAAO,CAAQ,CAAC,EACjE,CAAC,EACH,CAAC,EAlFEzB,OAAO,CAACgB,EAmFb,CAAC,CAEV,CAEA,cAAe,CAAAlB,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}